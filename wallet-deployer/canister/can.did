type SpawnRequest = record {
    wasm_module : blob;
};

type UpdateCodeRequest = record {
    wasm_module : blob;
};

service: {
    "spawn" : (SpawnRequest) -> (principal);
    "update_code" : (UpdateCodeRequest) -> (principal);
    "get_spawned_instances" : () -> (vec principal) query;

    "export_candid" : () -> (text) query;
}